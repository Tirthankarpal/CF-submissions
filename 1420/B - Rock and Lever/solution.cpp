#include <bits/stdc++.h>using namespace std;typedef long long ll;ll count(ll x){    ll ans=0;    while(x>0){        ans++;        x>>=1;    }    return ans;}int main(){    ll t;    cin>>t;    while(t--){        ll n;        cin>>n;        map<ll,ll> mp;        for(int i=0;i<n;i++){            ll x;            cin>>x;            mp[count(x)]++;        }        ll ans=0;        for(auto it:mp){            ans+=it.second*(it.second-1)/2;        }        cout<<ans<<endl;    }}