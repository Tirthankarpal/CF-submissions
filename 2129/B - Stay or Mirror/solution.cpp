#include<bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ios::sync_with_stdio(0);    cin.tie(0);    ll t;    cin>>t;    while(t--){        ll n;        cin>>n;        vector<ll> a(n);        for(int i=0;i<n;i++){            cin>>a[i];        }        ll ans=0;        a[n-1]=max(a[n-1],2*n-a[n-1]);        for(int i=n-2;i>=0;i--){            ll cnt1=0,cnt2=0;            for(int j=0;j<i;j++){                if(a[j]>a[i])cnt1++;                if(a[j]>2*n-a[i])cnt2++;            }            for(int j=i+1;j<n;j++){                if(a[j]<a[i])cnt1++;                if(a[j]<2*n-a[i])cnt2++;            }            if(cnt2<cnt1)a[i]=2*n-a[i];            else if(cnt1==cnt2)a[i]=max(a[i],2*n-a[i]);        }        for(int i=0;i<n;i++){            for(int j=i+1;j<n;j++){                if(a[i]>a[j])ans++;            }        }        cout<<ans<<endl;    }}