#include <bits/stdc++.h>using namespace std;typedef long long ll;ll mod=1000000007;ll gcd(ll a, ll b) {     if (b == 0) return a;    return gcd(b, a % b);}int main(){    ll n;    cin>>n;    vector<ll> a(n);    ll cnt1=0;    for(int i=0;i<n;i++){        cin>>a[i];        if(a[i]==1){            cnt1++;         }    }    if(cnt1>0){        cout<<n-cnt1<<endl;        return 0;    }    ll len=LLONG_MAX;    for(ll i=0;i<n;i++){        ll num=a[i];        for(ll j=i+1;j<n;j++){            num=gcd(num,a[j]);            if(num==1){                len=min(len,j-i+1);                break;            }        }    }    if(len==LLONG_MAX){        cout<<-1<<endl;    }    else{        cout<<n+len-2<<endl;    }}