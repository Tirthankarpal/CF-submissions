#include<bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ios::sync_with_stdio(0);    cin.tie(0);    ll t;    cin>>t;    while(t--){        ll n,k;        cin>>n>>k;        ll d=0;        while((1LL<<d)<n)d++;        vector<vector<ll>> c(d+1,vector<ll>(d+1));        for(ll i=0;i<=d;i++){            c[i][0]=c[i][i]=1;            for(ll j=1;j<i;j++)c[i][j]=c[i-1][j-1]+c[i-1][j];        }        ll g=0;        for(ll i=1;i<=d;i++){            ll s=k-i+1;            if(s<=0)continue;            if(s>=i)g+=(1LL<<(i-1));            else{                ll up=min(i-1,s-1);                for(ll j=0;j<=up;j++)g+=c[i-1][j];            }        }        if(k-d>=1)g++;        cout<<n-g<<endl;    }}