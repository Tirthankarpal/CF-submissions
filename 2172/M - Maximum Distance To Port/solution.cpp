#include<bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ll n,m,k;    cin>>n>>m>>k;    vector<ll> a(n);    for(ll i=0;i<n;i++) {        cin>>a[i];        a[i]--;    }    vector<vector<ll>> adj(n);    for(ll i=0;i<m;i++){        ll u,v;        cin>>u>>v;        u--;        v--;        adj[u].push_back(v);        adj[v].push_back(u);    }    vector<bool> vis(n,false);    vector<ll> dist(n,LLONG_MAX);    vector<ll> ans(k,0);    dist[0]=0;    queue<pair<ll,ll>> q;    q.push({0,0});    while(!q.empty()){        ll node=q.front().first;        ll d=q.front().second;        q.pop();        if(vis[node])continue;        vis[node]=true;        for(int i=0;i<adj[node].size();i++){            ll c=adj[node][i];            if(!vis[c] && dist[c]>d+1){                dist[c]=d+1;                q.push({c,d+1});            }        }    }    for(int i=0;i<n;i++){        ans[a[i]]=max(ans[a[i]],dist[i]);    }    for(int i=0;i<k;i++){        cout<<ans[i]<<" ";    }    return 0;}