#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){        ll n,m;        cin>>n>>m;        map<ll,vector<ll>> row;        map<ll,vector<ll>> col;        ll ans=0;        for(ll i=0;i<n;i++){            for(ll j=0;j<m;j++){                ll x;                cin>>x;                row[x].push_back(i);                col[x].push_back(j);            }        }        for(auto it=row.begin();it!=row.end();it++){            sort(it->second.begin(),it->second.end());        }        for(auto it=col.begin();it!=col.end();it++){            sort(it->second.begin(),it->second.end());        }        for(auto it=row.begin();it!=row.end();it++){            for(ll i=it->second.size()-1;i>=0;i--){                ll lft=i;                ll rt=it->second.size()-1-i;                ans+=it->second[i]*(lft-rt);            }        }        for(auto it=col.begin();it!=col.end();it++){            for(ll i=it->second.size()-1;i>=0;i--){                ll lft=i;                ll rt=it->second.size()-1-i;                ans+=it->second[i]*(lft-rt);            }        }        cout<<ans<<endl;}