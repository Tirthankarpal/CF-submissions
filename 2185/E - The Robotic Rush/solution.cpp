#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){    int t;    cin>>t;    while(t--){        int n,m,k;        cin>>n>>m>>k;        set<ll> s;        vector<ll> a(n);        map<ll,ll> mp;        for(int i=0;i<n;i++){            cin>>a[i];        }         for(int i=0;i<m;i++){            ll x;            cin>>x;            s.insert(x);        }        string str;        cin>>str;        ll cnt=0;        for(int i=0;i<k;i++){            if(str[i]=='L'){                cnt--;            }            else {                cnt++;            }            if(mp.find(cnt)==mp.end()){                mp[cnt]=i;            }        }        vector<ll> ans(n,LLONG_MAX);        for(int i=0;i<n;i++){            ll left=LLONG_MAX;            ll right=LLONG_MAX;            auto it=s.lower_bound(a[i]);            if(it!=s.end()){                right=*it-a[i];            }            if(it!=s.begin()){                it--;                left=a[i]-*it;            }            if(mp.find(-left)!=mp.end()){                ans[i]=min(ans[i],mp[-left]);            }            if(mp.find(right)!=mp.end()){                ans[i]=min(ans[i],mp[right]);            }        }        vector<ll> v(k,0);        for(int i=0;i<n;i++){            if(ans[i]!=LLONG_MAX)v[ans[i]]++;        }        int num=n;        for(int i=0;i<k;i++){            num-=v[i];            cout<<num<<" ";        }        cout<<endl;    }}