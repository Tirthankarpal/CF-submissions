#include<bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ll t;    cin>>t;    while(t--){        ll n;        cin>>n;        vector<vector<ll>> adj(n);        for(ll i=0;i<n-1;i++){            ll u,v;            cin>>u>>v;            u--;v--;            adj[u].push_back(v);            adj[v].push_back(u);        }        vector<ll> dep(n,-1),par(n,-1),child(n,0);        queue<ll> q;        q.push(0);        dep[0]=0;        while(!q.empty()){            ll u=q.front();            q.pop();            for(auto v:adj[u]){                if(dep[v]==-1){                    dep[v]=dep[u]+1;                    par[v]=u;                    q.push(v);                }            }        }        map<ll,ll> mp;        for(ll i=0;i<n;i++){            mp[dep[i]]++;            if(par[i]!=-1) child[par[i]]++;        }        ll ans=0;        for(auto it:mp) ans=max(ans,it.second);        for(ll i=0;i<n;i++) {            ans=max(ans,child[i]+1);        }        cout<<ans<<endl;    }}