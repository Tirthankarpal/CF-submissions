#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ll t;    cin>>t;    while(t--){        ll n,k;        cin>>n>>k;        string s;        cin>>s;        ll len=(k+1)/2;        ll mul=n/k;        vector<vector<ll>> v(len,vector<ll>(26,0));        for(ll i=0;i<len;i++){            for(ll j=0;j<mul;j++){                v[i][s[i+k*j]-'a']++;                if(((j+1)*k-i-1)>(i+k*j))v[i][s[(j+1)*k-i-1]-'a']++;            }        }        ll ans=0;        for(ll i=0;i<len;i++){            ll mx=0;            ll sum=0;            for(ll j=0;j<26;j++){                mx=max(mx,v[i][j]);                sum+=v[i][j];            }            ans+=sum-mx;        }        cout<<ans<<endl;    }}