#include <bits/stdc++.h>using namespace std;typedef long long ll;int main(){    ll t;    cin>>t;    while(t--){        int n,k;        cin>>n>>k;        vector<ll> a(n);        ll sum=0;        for(int i=0;i<n;i++){            cin>>a[i];            sum+=a[i];        }        sort(a.begin(),a.end());        ll ans=0;        vector<ll> pre=a;        vector<ll> suf=a;        for(int i=1;i<n;i++){            pre[i]=(pre[i]+pre[i-1]);        }        reverse(suf.begin(),suf.end());        for(int i=1;i<n;i++){            suf[i]=(suf[i]+suf[i-1]);        }        for(int i=1;i<2*k;i+=2){            ll num=sum;            num-=pre[i];            if(k-(i+1)/2>0){                num-=suf[k-(i+1)/2-1];            }            ans=max(ans,num);        }        ans=max(ans,sum - suf[k-1]);        cout<<ans<<endl;    }}